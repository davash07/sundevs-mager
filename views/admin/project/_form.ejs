<script>
    $(document).ready(function() {
        var max_fields      = 10; //maximum input boxes allowed
        var wrapper         = $(".input_fields_wrap"); //Fields wrapper
        var add_button      = $(".add_field_button"); //Add button ID

        var x = 1; //initlal text box count
        $(add_button).click(function(e){ //on add input button click
            e.preventDefault();
            if(x < max_fields){
                x++;
                $(wrapper).append('<div class="col-sm-12"><input type="text" class="form-control" name="activities" required/><a href="#" class="remove_field">Delete</a></div>'); //add input box
            }
        });

        $(wrapper).on("click",".remove_field", function(e){ //user click on remove text
            e.preventDefault(); $(this).parent('div').remove(); x--;
        })
    });


</script>
<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">New Project</h4>
            </div>
            <div class="modal-body">
                <form action="/admin/projects" method="post">
                    <div class="row">
                        <div class="form-group  col-sm-6">
                            <label>name</label>
                            <input type="text" class="form-control" name="name" required>
                        </div>
                        <div class="form-group col-sm-6 ">
                            <label>Client</label>
                            <div class="form-select">
                                <select class="selectpicker" id="select" name="client_id" required>
                                    <% clients.forEach(function(client) { %>
                                    <option value="<%= client._id %>"> <%= client.company_name %></option>
                                    <% }) %>
                                </select>
                            </div>
                        </div>
                        <br>
                        <br>
                        <br>

                        <div class="form-group  col-sm-6">
                            <label>Start Date</label>
                            <input type="date" class="form-control" name="start_date" required>
                        </div>
                        <div class="form-group  col-sm-6">
                            <label>Estimated End Date</label>
                            <input type="date" class="form-control" name="estimated_end_date" required>
                        </div>
                        <div class="form-group  col-sm-6">
                            <label>Real End Date</label>
                            <input type="date" class="form-control" name="real_end_date">
                        </div>
                        <div class="form-group  col-sm-6">
                            <label>Challenging Date</label>
                            <input type="date" class="form-control" name="challenging_date" required>
                        </div>
                        <div class="form-group  col-sm-6">
                            <label>Estimated Hours</label>
                            <input type="number" min="0" class="form-control" name="estimated_hours" required>
                        </div>
                        <div class="form-group  col-sm-6">
                            <label>Challenging Bugs</label>
                            <input type="number" min="0" class="form-control" name="challenging_bugs" required>
                        </div>
                        <div class="form-group  col-sm-6">
                            <label>Trello Board Id</label>
                            <input type="text" class="form-control" name="trello_board_id" >
                        </div>
                        <br>
                        <div class="form-group  col-sm-6" >
                            <label>Status</label>
                            <select class="selectpicker" name="status" required>
                                <option value="True">Active</option>
                                <option value="False" active>Inactive</option>
                            </select>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="form-group  col-sm-12 text-center input_fields_wrap">
                            <label>Activities</label>
                            <input type="text" class="form-control" name="activities" required>
                            <a href="#" class="add_field_button">Add More</a>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <div class="col-sm-6 text-left">
                                <button type="submit" class="btn btn-info ">Send</button>
                            </div>
                            <div class="col-sm-6">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
